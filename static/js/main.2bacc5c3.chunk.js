(this["webpackJsonpvideo-task-test"]=this["webpackJsonpvideo-task-test"]||[]).push([[0],{156:function(e,t,i){},160:function(e,t,i){},161:function(e,t,i){},262:function(e,t,i){},269:function(e,t,i){},270:function(e,t,i){},271:function(e,t,i){},272:function(e,t,i){},273:function(e,t,i){},287:function(e,t,i){},300:function(e,t,i){"use strict";i.r(t);var n=i(6),a=(i(156),i(0)),s=i.n(a),c=i(21),l=i.n(c),o=i(42),r=(i(160),s.a.createContext()),u=(i(161),i.p+"static/media/logo.9e07718b.svg"),j=i(306),d=i(310),b=i(60);var m=function(e){var t=e.isVisible,i=e.onSubmitFormLogin;return Object(n.jsxs)(j.a,{layout:"vertical",name:"login",className:"login__form ".concat(t&&"login__form_visible"),onFinish:i,children:[Object(n.jsx)("img",{className:"login__logo",src:u,alt:"\u041b\u043e\u0433\u043e\u0442\u0438\u043f"}),Object(n.jsx)("h1",{className:"login__title",children:"\u0412\u0445\u043e\u0434"}),Object(n.jsx)(j.a.Item,{label:"\u041b\u043e\u0433\u0438\u043d",name:"username",children:Object(n.jsx)(d.a,{className:"login__input"})}),Object(n.jsx)(j.a.Item,{label:"\u041f\u0430\u0440\u043e\u043b\u044c",name:"password",children:Object(n.jsx)(d.a.Password,{className:"login__input"})}),Object(n.jsx)(j.a.Item,{children:Object(n.jsx)(b.a,{className:"login__button",htmlType:"submit",type:"primary",children:"\u0412\u043e\u0439\u0442\u0438"})})]})},h=(i(262),i(308));var _=function(e){var t=e.isVisible,i=e.currentPage,a=e.onClickMenuItem;return Object(n.jsx)("header",{className:"header ".concat(t&&"header_visible"),children:Object(n.jsxs)("div",{className:"header__menu",children:[Object(n.jsxs)(h.a,{mode:"horizontal",selectedKeys:[i],onClick:a,children:[Object(n.jsx)("img",{className:"header__logo",src:u,alt:"\u041b\u043e\u0433\u043e\u0442\u0438\u043f"}),Object(n.jsx)(h.a.Item,{children:"\u041f\u043e\u0438\u0441\u043a"},"search"),Object(n.jsx)(h.a.Item,{children:"\u0418\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435"},"favourites")]}),Object(n.jsx)(h.a,{mode:"horizontal",selectedKeys:[],onClick:a,children:Object(n.jsx)(h.a.Item,{children:"\u0412\u044b\u0439\u0442\u0438"},"exit")})]})})},x=(i(269),i(270),i(140));var O=function(e){var t=e.clip,i=e.layout;return Object(n.jsxs)("div",{className:"video ".concat("list"===i&&"video_layout_list"),children:[Object(n.jsx)(x.a,{className:"video__iframe ".concat("list"===i&&"video__iframe_layout_list"),url:"https://www.youtube.com/embed/".concat(t.id.videoId),allowFullScreen:!0}),Object(n.jsxs)("div",{className:"video__info ".concat("list"===i&&"video__info_layout_list"),children:[Object(n.jsx)("h2",{className:"video__title ".concat("list"===i&&"video__title_layout_list"),children:t.snippet.title}),Object(n.jsx)("p",{className:"video__subtitle ".concat("list"===i&&"video__subtitle_layout_list"),children:t.snippet.description})]})]})};i(271);var v=function(e){var t=e.clipsLength,i=e.onClickHeart;return Object(n.jsx)("button",{className:"heart ".concat(t&&"heart_video"),onClick:i,children:Object(n.jsx)("svg",{className:"heart__image",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(n.jsx)("path",{d:"M20.8401 4.60999C20.3294 4.099 19.7229 3.69364 19.0555 3.41708C18.388 3.14052 17.6726 2.99817 16.9501\r 2.99817C16.2276 2.99817 15.5122 3.14052 14.8448 3.41708C14.1773 3.69364 13.5709 4.099 13.0601 4.60999L12.0001\r 5.66999L10.9401 4.60999C9.90843 3.5783 8.50915 2.9987 7.05012 2.9987C5.59109 2.9987 4.19181 3.5783 3.16012\r 4.60999C2.12843 5.64169 1.54883 7.04096 1.54883 8.49999C1.54883 9.95903 2.12843 11.3583 3.16012 12.39L4.22012\r 13.45L12.0001 21.23L19.7801 13.45L20.8401 12.39C21.3511 11.8792 21.7565 11.2728 22.033 10.6053C22.3096 9.93789\r 22.4519 9.22248 22.4519 8.49999C22.4519 7.77751 22.3096 7.0621 22.033 6.39464C21.7565 5.72718 21.3511 5.12075\r 20.8401 4.60999V4.60999Z",stroke:"#1390E5","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})})})},f=d.a.Search;var p=function(e){var t=e.isVisible,i=e.clips,a=e.loading,c=e.onSearchVideo,l=e.onClickHeart,u=s.a.useState("grid"),j=Object(o.a)(u,2),d=j[0],b=j[1],m=s.a.useContext(r).query,h=s.a.useState(""),_=Object(o.a)(h,2),x=_[0],p=_[1];function g(e){b(e.target.name)}return s.a.useEffect((function(){p(m)}),[m]),Object(n.jsxs)("main",{className:"seek ".concat(t&&"seek_visible"," ").concat(i.length&&"seek_video"),children:[Object(n.jsx)("h1",{className:"seek__title ".concat(i.length&&"seek__title_video"),children:"\u041f\u043e\u0438\u0441\u043a \u0432\u0438\u0434\u0435\u043e"}),Object(n.jsx)("div",{className:"seek__input ".concat(i.length&&"seek__input_video"),children:Object(n.jsx)(f,{placeholder:"\u0427\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u043f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c?",enterButton:"\u041d\u0430\u0439\u0442\u0438",loading:a,size:"large",suffix:Object(n.jsx)(v,{clipsLength:i.length,onClickHeart:l}),onSearch:function(e){c({query:e,name:"",count:12})},onChange:function(e){p(e.target.value)},value:x})}),Object(n.jsxs)("div",{className:"seek__info ".concat(i.length&&"seek__info_video"),children:[Object(n.jsxs)("p",{className:"seek__query",children:["\u0412\u0438\u0434\u0435\u043e \u043f\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u0443 \xab",m,"\xbb"]}),Object(n.jsxs)("div",{className:"seek__buttons",children:[Object(n.jsx)("button",{className:"seek__button seek__button-list ".concat("list"===d&&"seek__button_active"),type:"button",name:"list",onClick:g}),Object(n.jsx)("button",{className:"seek__button seek__button-grid ".concat("grid"===d&&"seek__button_active"),type:"button",name:"grid",onClick:g})]})]}),Object(n.jsx)("div",{className:"seek__clips ".concat("list"===d&&"seek__clips_layout_list"),children:i.map((function(e){return Object(n.jsx)(O,{clip:e,layout:d},e.id.videoId)}))})]})},g=(i(272),i(305));i(273);var y=function(e){var t=e.item,i=e.index,a=e.onClickQueryRun,s=e.onClickQueryEdit;return Object(n.jsxs)("div",{className:"query",children:[Object(n.jsx)("p",{className:"query__text",children:t.name}),Object(n.jsxs)("div",{children:[Object(n.jsx)(b.a,{type:"link",onClick:function(){a(t)},children:"\u0412\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c"}),Object(n.jsx)(b.a,{type:"link",onClick:function(){s(i)},children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"})]})]})};var k=function(e){var t=e.isVisible,i=e.onClickQueryRun,a=e.onClickQueryEdit;return Object(n.jsx)("main",{className:"favourit ".concat(t&&"favourit_visible"),children:Object(n.jsxs)("div",{className:"favourit__container",children:[Object(n.jsx)("h1",{className:"favourit__title",children:"\u0418\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435"}),Object(n.jsx)(g.b,{className:"favourit__list",size:"large",bordered:!0,dataSource:localStorage.getItem("queries")?JSON.parse(localStorage.getItem("queries")):[],renderItem:function(e,t){return Object(n.jsx)(g.b.Item,{children:Object(n.jsx)(y,{item:e,index:t,onClickQueryRun:i,onClickQueryEdit:a})})}})]})})},C=(i(287),i(309)),N=i(303),S=i(304),I=i(307),w=i(311);var q=function(e){var t=e.isVisible,i=e.config,a=e.onClosePopup,c=e.onEditQueryList,l=j.a.useForm(),u=Object(o.a)(l,1)[0],m=s.a.useState(0),h=Object(o.a)(m,2),_=h[0],x=h[1],O=s.a.useContext(r),v=O.query,f=O.name,p=O.count,g=i.title,y=i.index,k=i.isDisabledQueryInput;function q(e){x(e)}return s.a.useEffect((function(){if(t)if(y<0)u.setFieldsValue({query:v,name:f}),x(p);else{var e=localStorage.getItem("queries"),i=JSON.parse(e)[y],n=i.query,a=i.name,s=i.count;u.setFieldsValue({query:n,name:a}),x(s)}}),[t,u,v,f,p,y]),Object(n.jsx)(C.a,{visible:t,title:g,onCancel:a,footer:[],children:Object(n.jsxs)(j.a,{form:u,layout:"vertical",name:"popup",onFinish:function(e){var t=e.query,i=e.name;c({query:t,name:i,count:_},y)},children:[Object(n.jsx)(j.a.Item,{label:"\u0417\u0430\u043f\u0440\u043e\u0441",name:"query",children:Object(n.jsx)(d.a,{disabled:k})}),Object(n.jsx)(j.a.Item,{label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",name:"name",rules:[{required:!0,message:"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0437\u0430\u043f\u0440\u043e\u0441\u0430"}],children:Object(n.jsx)(d.a,{})}),Object(n.jsx)(j.a.Item,{label:"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e",name:"count",children:Object(n.jsxs)(N.a,{children:[Object(n.jsx)(S.a,{span:18,children:Object(n.jsx)(I.a,{min:1,max:50,defaultValue:12,value:_,onChange:q})}),Object(n.jsx)(S.a,{span:4,children:Object(n.jsx)(w.a,{min:1,max:50,defaultValue:12,style:{margin:"0 20px"},value:_,onChange:q})})]})}),Object(n.jsxs)(N.a,{children:[Object(n.jsx)(S.a,{children:Object(n.jsx)(j.a.Item,{children:Object(n.jsx)(b.a,{htmlType:"button",style:{margin:"0 5px",width:"226px"},onClick:a,children:"\u041d\u0435 \u0441\u043e\u0445\u0440\u0430\u043d\u044f\u0442\u044c"})})}),Object(n.jsx)(S.a,{children:Object(n.jsx)(j.a.Item,{children:Object(n.jsx)(b.a,{htmlType:"submit",type:"primary",style:{margin:"0 5px",width:"226px"},children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})})})]})]})})},V=i(85);var L=function(){var e=s.a.useState(!localStorage.getItem(V.username)),t=Object(o.a)(e,2),i=t[0],a=t[1],c=s.a.useState("search"),l=Object(o.a)(c,2),u=l[0],j=l[1],d=s.a.useState(!1),b=Object(o.a)(d,2),h=b[0],x=b[1],O=s.a.useState({}),v=Object(o.a)(O,2),f=v[0],g=v[1],y=s.a.useState(!1),C=Object(o.a)(y,2),N=C[0],S=C[1],I=s.a.useState({}),w=Object(o.a)(I,2),L=w[0],Q=w[1],E=s.a.useState([]),F=Object(o.a)(E,2),J=F[0],P=F[1];function z(e){S(!0),fetch("https://www.googleapis.com/youtube/v3/search?part=snippet&type=video"+"&q=".concat(e.query)+"&maxResults=".concat(e.count)+"&key=AIzaSyB_CL-jK3MdyAk4jltnf4zbvkmPTeteGM0",{method:"GET"}).then((function(e){return e.ok?e.json():Promise.reject(e)})).then((function(t){Q(e),P(t.items)})).catch((function(){alert("\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a. \u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u0437\u0430\u043f\u0440\u043e\u0441.")})).finally((function(){S(!1)}))}return Object(n.jsx)("div",{className:"app ".concat(i&&"app__guest"),children:Object(n.jsxs)(r.Provider,{value:L,children:[Object(n.jsx)(m,{isVisible:i,onSubmitFormLogin:function(e){var t=e.username,i=e.password;V.username===t&&V.password===i?(localStorage.setItem(t,t),a(!1)):alert("\u041d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0439 \u043b\u043e\u0433\u0438\u043d \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c")}}),Object(n.jsx)(_,{isVisible:!i,currentPage:u,onClickMenuItem:function(e){"exit"===e.key?(localStorage.removeItem(V.username),a(!0)):j(e.key)}}),Object(n.jsx)(p,{isVisible:!i&&"search"===u,clips:J,loading:N,onSearchVideo:z,onClickHeart:function(){g({title:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0437\u0430\u043f\u0440\u043e\u0441",index:-1,isDisabledQueryInput:!0}),x(!0)}}),Object(n.jsx)(k,{isVisible:!i&&"favourites"===u,onClickQueryRun:function(e){j("search"),z(e)},onClickQueryEdit:function(e){g({title:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0437\u0430\u043f\u0440\u043e\u0441",index:e,isDisabledQueryInput:!1}),x(!0)}}),Object(n.jsx)(q,{isVisible:h,config:f,onClosePopup:function(){x(!1)},onEditQueryList:function(e,t){var i=localStorage.getItem("queries");if(i){var n=JSON.parse(i);-1===t?n.push(e):n[t]=e,localStorage.setItem("queries",JSON.stringify(n))}else localStorage.setItem("queries",JSON.stringify([e]));x(!1)}})]})})};l.a.render(Object(n.jsx)(s.a.StrictMode,{children:Object(n.jsx)(L,{})}),document.getElementById("root"))},85:function(e){e.exports=JSON.parse('{"username":"valery","password":"qwerty"}')}},[[300,1,2]]]);
//# sourceMappingURL=main.2bacc5c3.chunk.js.map